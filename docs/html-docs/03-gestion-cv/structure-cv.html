<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Structure JSON CV | FitMyCV.io</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../assets/css/style.css?v=1.0.4">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
  
  <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
  <script>mermaid.initialize({ startOnLoad: false });</script>
</head>
<body>
  <div class="layout">
    <!-- Sidebar injectée par layout.js -->
    <div id="sidebar-container"></div>

    <!-- Main Content -->
    <main class="main">
      <!-- Header injecté par layout.js -->
      <div id="header-container"></div>

      <div class="content">
        <div class="breadcrumb">
          <a href="../index.html">Docs</a>
          <span>/</span>
          <a href="./overview.html">Gestion CV</a>
          <span>/</span>
          <span>Structure JSON</span>
        </div>

        <h1>Structure JSON du CV</h1>
        <p class="lead">
          Format JSON standardise utilise pour stocker et manipuler les données des CV dans l'application.
        </p>

        <h2>Schema Global</h2>

        <pre><code>{
  "header": {
    "firstName": "Jean",
    "lastName": "Dupont",
    "title": "Developpeur Full Stack",
    "email": "jean.dupont@email.com",
    "phone": "+33 6 12 34 56 78",
    "location": "Paris, France",
    "linkedin": "linkedin.com/in/jeandupont",
    "portfolio": "jeandupont.dev"
  },
  "summary": "Developpeur Full Stack avec 5 ans d'experience...",
  "experiences": [...],
  "skills": [...],
  "education": [...],
  "projects": [...],
  "certifications": [...],
  "languages": [...],
  "interests": [...]
}</code></pre>

        <h2>Section Experiences</h2>

        <pre><code>"experiences": [
  {
    "id": "exp-1",
    "company": "TechCorp",
    "title": "Lead Developer",
    "location": "Paris",
    "startDate": "2021-03",
    "endDate": null,  // null = poste actuel
    "responsibilities": [
      "Direction technique d'une equipe de 5 developpeurs",
      "Conception et implementation d'une architecture microservices",
      "Mise en place de CI/CD avec GitHub Actions"
    ],
    "technologies": ["Node.js", "React", "PostgreSQL", "Docker"]
  }
]</code></pre>

        <h2>Section Skills</h2>

        <pre><code>"skills": {
  "technical": [
    { "name": "JavaScript", "level": "expert" },
    { "name": "TypeScript", "level": "advanced" },
    { "name": "React", "level": "expert" },
    { "name": "Node.js", "level": "advanced" }
  ],
  "soft": [
    "Leadership",
    "Communication",
    "Gestion de projet"
  ],
  "tools": [
    "Git", "Docker", "AWS", "Figma"
  ]
}</code></pre>

        <h2>Section Education</h2>

        <pre><code>"education": [
  {
    "id": "edu-1",
    "institution": "Ecole Polytechnique",
    "degree": "Master",
    "field": "Informatique",
    "location": "Palaiseau",
    "startDate": "2014-09",
    "endDate": "2019-06",
    "description": "Specialisation en Intelligence Artificielle"
  }
]</code></pre>

        <h2>Section Projects</h2>

        <pre><code>"projects": [
  {
    "id": "proj-1",
    "name": "E-commerce Platform",
    "description": "Plateforme e-commerce complete avec paiement Stripe",
    "technologies": ["Next.js", "Prisma", "Stripe"],
    "url": "https://github.com/user/project",
    "highlights": [
      "10K utilisateurs actifs",
      "Integration paiement multi-devises"
    ]
  }
]</code></pre>

        <h2>Section Languages</h2>

        <pre><code>"languages": [
  { "name": "Francais", "level": "native" },
  { "name": "Anglais", "level": "fluent", "certification": "TOEIC 950" },
  { "name": "Espagnol", "level": "intermediate" }
]</code></pre>

        <h2>Validation Schema (Zod)</h2>

        <pre><code>// lib/cv-core/validation.js
import { z } from 'zod';

export const cvSchema = z.object({
  header: z.object({
    firstName: z.string().min(1),
    lastName: z.string().min(1),
    title: z.string().optional(),
    email: z.string().email(),
    phone: z.string().optional(),
    location: z.string().optional(),
    linkedin: z.string().optional(),
    portfolio: z.string().optional()
  }),
  summary: z.string().optional(),
  experiences: z.array(experienceSchema),
  skills: skillsSchema,
  education: z.array(educationSchema),
  projects: z.array(projectSchema).optional(),
  certifications: z.array(certificationSchema).optional(),
  languages: z.array(languageSchema).optional(),
  interests: z.array(z.string()).optional()
});

export function validateCv(data) {
  const result = cvSchema.safeParse(data);
  return {
    valid: result.success,
    errors: result.error?.errors || []
  };
}</code></pre>

        <h2>Helpers</h2>

        <pre><code>// lib/cv-core/helpers.js

export function getSectionItems(cv, section) {
  return cv[section] || [];
}

export function updateSectionItem(cv, section, itemId, updates) {
  return {
    ...cv,
    [section]: cv[section].map(item =>
      item.id === itemId ? { ...item, ...updates } : item
    )
  };
}

export function addSectionItem(cv, section, item) {
  return {
    ...cv,
    [section]: [...(cv[section] || []), {
      ...item,
      id: generateId(section)
    }]
  };
}</code></pre>
      </div>
    </main>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-typescript.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-jsx.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-tsx.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-json.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-sql.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-yaml.min.js"></script>

  <script src="../assets/js/layout.js?v=1.0.4"></script>
  <script src="../assets/js/main.js?v=1.0.4"></script>
</body>
</html>
