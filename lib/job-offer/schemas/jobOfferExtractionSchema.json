{
  "name": "job_offer_extraction",
  "strict": true,
  "schema": {
    "type": "object",
    "properties": {
      "title": {
        "type": ["string", "null"],
        "description": "Main job title (H1/heading), short and catchy (3-8 words), NOT a sentence from description"
      },
      "company": {
        "type": ["string", "null"],
        "description": "Company name / Nom de l'entreprise"
      },
      "contract": {
        "type": ["string", "null"],
        "description": "Contract type: CDI, CDD, Freelance, Stage, Alternance, or null if not specified"
      },
      "experience": {
        "type": ["object", "null"],
        "description": "Required experience",
        "properties": {
          "min_years": {
            "type": ["integer", "null"],
            "description": "Minimum years of experience required"
          },
          "max_years": {
            "type": ["integer", "null"],
            "description": "Maximum years of experience (if range specified)"
          },
          "level": {
            "type": ["string", "null"],
            "description": "Experience level: junior, mid, senior, lead, or null"
          }
        },
        "required": ["min_years", "max_years", "level"],
        "additionalProperties": false
      },
      "location": {
        "type": ["object", "null"],
        "description": "Job location",
        "properties": {
          "city": {
            "type": ["string", "null"],
            "description": "City name without postal code (e.g., 'Paris' not 'Paris (75)')"
          },
          "country": {
            "type": ["string", "null"],
            "description": "Country name"
          },
          "remote": {
            "type": ["string", "null"],
            "description": "Remote work policy: full (100% remote possible), hybrid (partial remote), none (on-site only), or null if not specified"
          }
        },
        "required": ["city", "country", "remote"],
        "additionalProperties": false
      },
      "salary": {
        "type": ["object", "null"],
        "description": "Salary information",
        "properties": {
          "min": {
            "type": ["integer", "null"],
            "description": "Minimum salary amount"
          },
          "max": {
            "type": ["integer", "null"],
            "description": "Maximum salary amount"
          },
          "currency": {
            "type": ["string", "null"],
            "description": "Currency code (EUR, USD, GBP, etc.)"
          },
          "period": {
            "type": ["string", "null"],
            "description": "Salary period: year, month, day, hour, or null"
          }
        },
        "required": ["min", "max", "currency", "period"],
        "additionalProperties": false
      },
      "skills": {
        "type": "object",
        "description": "Technical and behavioral skills categorized by type",
        "properties": {
          "hard_skills": {
            "type": "object",
            "description": "Technical competencies and domain expertise (skills developed with experience)",
            "properties": {
              "required": {
                "type": "array",
                "items": { "type": "string" },
                "description": "Must-have technical competencies (e.g., Backend development, API Design, Machine Learning)"
              },
              "nice_to_have": {
                "type": "array",
                "items": { "type": "string" },
                "description": "Appreciated technical competencies"
              }
            },
            "required": ["required", "nice_to_have"],
            "additionalProperties": false
          },
          "tools": {
            "type": "object",
            "description": "Software, frameworks, languages, platforms that can be installed or connected to",
            "properties": {
              "required": {
                "type": "array",
                "items": { "type": "string" },
                "description": "Must-have tools/technologies (e.g., Python, Docker, PostgreSQL, AWS)"
              },
              "nice_to_have": {
                "type": "array",
                "items": { "type": "string" },
                "description": "Appreciated tools/technologies"
              }
            },
            "required": ["required", "nice_to_have"],
            "additionalProperties": false
          },
          "methodologies": {
            "type": "object",
            "description": "Work methods, frameworks, and structured approaches",
            "properties": {
              "required": {
                "type": "array",
                "items": { "type": "string" },
                "description": "Must-have methodologies (e.g., Agile, Scrum, TDD, CI/CD)"
              },
              "nice_to_have": {
                "type": "array",
                "items": { "type": "string" },
                "description": "Appreciated methodologies"
              }
            },
            "required": ["required", "nice_to_have"],
            "additionalProperties": false
          },
          "soft_skills": {
            "type": "array",
            "items": { "type": "string" },
            "description": "Behavioral/interpersonal skills (communication, teamwork, autonomy, curiosity, leadership, adaptability)"
          }
        },
        "required": ["hard_skills", "tools", "methodologies", "soft_skills"],
        "additionalProperties": false
      },
      "education": {
        "type": ["object", "null"],
        "description": "Education requirements",
        "properties": {
          "level": {
            "type": ["string", "null"],
            "description": "Education level (Bac+2, Bac+3, Bac+5, Master, PhD, etc.)"
          },
          "field": {
            "type": ["string", "null"],
            "description": "Field of study (informatique, commerce, etc.)"
          }
        },
        "required": ["level", "field"],
        "additionalProperties": false
      },
      "languages": {
        "type": "array",
        "description": "Language requirements",
        "items": {
          "type": "object",
          "properties": {
            "language": {
              "type": "string",
              "description": "Language name"
            },
            "level": {
              "type": ["string", "null"],
              "description": "Required level as stated in the offer (e.g., B2, Fluent, Native, Professionnel, Courant...) or null if not specified"
            },
            "requirement": {
              "type": "string",
              "enum": ["required", "nice_to_have"],
              "description": "required = obligatoire (default), nice_to_have = appreciated/ideally"
            }
          },
          "required": ["language", "level", "requirement"],
          "additionalProperties": false
        }
      },
      "responsibilities": {
        "type": "array",
        "items": { "type": "string" },
        "description": "Main responsibilities and missions"
      },
      "benefits": {
        "type": "array",
        "items": { "type": "string" },
        "description": "Benefits and perks offered"
      },
      "recruitment_process": {
        "type": ["object", "null"],
        "description": "Recruitment process information if mentioned in the offer",
        "properties": {
          "steps": {
            "type": "array",
            "items": { "type": "string" },
            "description": "Ordered list of recruitment steps (e.g., 'Phone screening', 'Technical interview', 'HR interview', 'Case study')"
          },
          "duration": {
            "type": ["string", "null"],
            "description": "Expected duration of the process if mentioned (e.g., '2-3 weeks', '1 month')"
          },
          "contact": {
            "type": ["string", "null"],
            "description": "Recruiter or hiring manager name/email if mentioned"
          },
          "deadline": {
            "type": ["string", "null"],
            "description": "Application deadline if mentioned (format: YYYY-MM-DD or text as stated)"
          }
        },
        "required": ["steps", "duration", "contact", "deadline"],
        "additionalProperties": false
      },
      "language": {
        "type": ["string", "null"],
        "description": "FILL THIS LAST. Language code based on YOUR EXTRACTED CONTENT (responsibilities, benefits, skills). If these fields are in English → 'en'. If in French → 'fr'. Ignore URL path. Values: fr, en, es, de, or null."
      }
    },
    "required": [
      "title",
      "company",
      "contract",
      "experience",
      "location",
      "salary",
      "skills",
      "education",
      "languages",
      "responsibilities",
      "benefits",
      "recruitment_process",
      "language"
    ],
    "additionalProperties": false
  }
}
