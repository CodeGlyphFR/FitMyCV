{
  "name": "adapted_skills",
  "strict": true,
  "schema": {
    "type": "object",
    "properties": {
      "hard_skills": {
        "type": "array",
        "description": "Competences techniques adaptees",
        "items": {
          "type": "object",
          "properties": {
            "name": { "type": "string" },
            "proficiency": {
              "type": "integer",
              "enum": [0, 1, 2, 3, 4, 5],
              "description": "0=Awareness, 1=Beginner, 2=Intermediate, 3=Proficient, 4=Advanced, 5=Expert"
            }
          },
          "required": ["name", "proficiency"],
          "additionalProperties": false
        }
      },
      "soft_skills": {
        "type": "array",
        "description": "Competences comportementales adaptees",
        "items": { "type": "string" }
      },
      "tools": {
        "type": "array",
        "description": "Outils adaptes (jamais d'ajout)",
        "items": {
          "type": "object",
          "properties": {
            "name": { "type": "string" },
            "proficiency": {
              "type": "integer",
              "enum": [0, 1, 2, 3, 4, 5],
              "description": "0=Awareness, 1=Beginner, 2=Intermediate, 3=Proficient, 4=Advanced, 5=Expert"
            }
          },
          "required": ["name", "proficiency"],
          "additionalProperties": false
        }
      },
      "methodologies": {
        "type": "array",
        "description": "Methodologies adaptees",
        "items": { "type": "string" }
      },
      "modifications": {
        "type": "array",
        "description": "Modifications detaillees par skill avec correspondance before/after (pattern identique a experience)",
        "items": {
          "type": "object",
          "properties": {
            "category": {
              "type": "string",
              "enum": ["hard_skills", "soft_skills", "tools", "methodologies"],
              "description": "Categorie du skill modifie"
            },
            "before": {
              "type": ["string", "null"],
              "description": "Nom du skill source (null si ajout)"
            },
            "after": {
              "type": ["string", "null"],
              "description": "Nom du skill cible (null si suppression)"
            },
            "action": {
              "type": "string",
              "enum": ["kept", "modified", "removed", "added", "level_adjusted", "split", "moved", "merged", "inferred"],
              "description": "kept=inchange, modified=traduit/reformule, removed=supprime, added=ajoute"
            },
            "reason": {
              "type": "string",
              "description": "Raison courte (max 15 mots)"
            },
            "translated": {
              "type": ["string", "null"],
              "description": "Traduction du skill source (OBLIGATOIRE si action=removed, pour rollback)"
            }
          },
          "required": ["category", "before", "after", "action", "reason", "translated"],
          "additionalProperties": false
        }
      }
    },
    "required": ["hard_skills", "soft_skills", "tools", "methodologies", "modifications"],
    "additionalProperties": false
  }
}
